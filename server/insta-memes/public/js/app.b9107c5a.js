(function(e){function t(t){for(var i,r,o=t[0],l=t[1],c=t[2],u=0,d=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);m&&m(t);while(d.length)d.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],i=!0,o=1;o<s.length;o++){var l=s[o];0!==a[l]&&(i=!1)}i&&(n.splice(t--,1),e=r(r.s=s[0]))}return e}var i={},a={app:0},n=[];function r(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=i,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(s,i,function(t){return e[t]}.bind(null,i));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var m=l;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";s("85ec")},"065b":function(e,t,s){"use strict";s("f595")},"09f3":function(e,t,s){"use strict";s("35d9")},1:function(e,t){},2289:function(e,t,s){},"35d9":function(e,t,s){},"4b37":function(e,t,s){"use strict";s("8109")},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{background:"#262626"},attrs:{id:"app"}},[s("nav",{staticClass:"navbar",staticStyle:{padding:"0 0"}},[s("router-link",{staticClass:"logo",attrs:{tag:"div",to:"/"}},[s("i",{staticClass:"fas fa-home",staticStyle:{"font-size":"30px"}}),s("img",{attrs:{src:"/images/logo.png",alt:""}})]),s("div",{staticStyle:{height:"100%",position:"absolute",right:"0"},attrs:{id:"navbarNav"}},[""!=e.username&&null!=e.username?s("ul",{},[s("li",{staticClass:"nav-item",on:{click:function(t){return e.main_profile()}}},[s("i",{staticClass:"far fa-user-circle"})]),s("router-link",{staticClass:"nav-item",attrs:{tag:"li",to:"/inbox"}},[s("i",{staticClass:"fas fa-comments"})]),s("li",{staticClass:"nav-item",on:{click:function(t){return e.logout()}}},[s("i",{staticClass:"fas fa-sign-out-alt"})])],1):e._e()])],1),s("router-view",{attrs:{show_inbox:e.show_inbox,username_general:e.username},on:{updateStatus:e.updateStatus}})],1)},n=[],r={name:"app",components:{},data:function(){return{show_inbox:!1,username:"",username_id:""}},methods:{main_profile:function(){var e=this;this.$router.push({path:"/home"}),this.$nextTick((function(){e.$router.push({name:"profile",params:{id:e.username_id}})}))},updateStatus:function(e){this.username=e[0],this.username_id=e[1]},logout:function(){localStorage.removeItem("username"),localStorage.removeItem("username_id"),this.username_id="",this.username="","/"!=this.$route.path&&this.$router.push("/")}},created:function(){this.username=localStorage.getItem("username"),this.username_id=localStorage.getItem("username_id")}},o=r,l=(s("034f"),s("2877")),c=Object(l["a"])(o,a,n,!1,null,null,null),m=c.exports,u=s("8c4f"),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mt-3"},[e.alert_msg?s("p",{staticClass:"text-center w-100"},[e._v("Say hi !")]):e._e(),s("div",{staticClass:"msg-content"},e._l(e.messages,(function(t,i){return s("div",{key:i},[s("div",{staticClass:"px-2 py-0",class:{message_send2:e.username==t.sender}},[s("p",{staticClass:"sender"},[e._v(e._s(t.sender))]),s("div",{attrs:{id:"context-menu"},on:{click:function(t){return e.delete_msg()}}},[e._m(0,!0)]),s("div",{class:{message_send2:e.username==t.sender},staticStyle:{width:"max-content","max-width":"50%"}},[s("div",{staticClass:"media-body"},[s("div",{staticClass:" rounded py-2 px-3 mb-2",class:{message_send:e.username==t.sender,message_recieve:e.username!=t.sender},on:{contextmenu:function(s){return e.handler(s,t._id)}}},[s("p",{staticClass:"text-small mb-0  ",staticStyle:{"overflow-wrap":"anywhere"}},[e._v(" "+e._s(t.message)+" ")])])])])])])})),0),s("div",{staticClass:"col-12 input-fixed"},[s("VEmojiPicker",{directives:[{name:"show",rawName:"v-show",value:e.show_emoji,expression:"show_emoji"}],staticStyle:{position:"absolute",bottom:"85px",right:"25px"},on:{select:e.selectEmoji}}),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"input-msg",attrs:{placeholder:"message...",cols:"40",rows:"2",type:"text"},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}}),e._v(" "),s("div",{staticStyle:{position:"absolute",top:"18px",right:"12px"}},[s("i",{staticClass:"fas fa-smile-beam",staticStyle:{"font-size":"25px","margin-right":"6px",cursor:"pointer"},on:{click:e.show_emoji_fun}}),e.loading?e._e():s("i",{staticClass:"fas fa-paper-plane",staticStyle:{"font-size":"25px",cursor:"pointer"},on:{click:function(t){return e.sendMessage()}}}),e.loading?s("i",{staticClass:"fas fa-spinner loading",staticStyle:{"font-size":"25px"}}):e._e()])],1)])},_=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"item"},[s("i",{staticClass:"fas fa-trash-alt"}),e._v(" Delete")])}],p=(s("4de4"),s("79b5")),f=s("8055"),h=s.n(f);window.addEventListener("click",(function(){var e=document.getElementById("context-menu");e&&e.classList.remove("active")}));var g=h()(""),v={components:{VEmojiPicker:p["a"]},data:function(){return{username:"",message:"",messages:[],id:"",loading:!1,show_emoji:!1,alert_msg:!1}},methods:{handler:function(e,t){this.id=t,e.preventDefault();var s=e.clientY,i=e.clientX,a=document.getElementById("context-menu"),n=document.querySelector(".msg-content"),r=0;r=i+110<n.offsetWidth?i:i-110,a.style.top=s+"px",a.style.left=r+"px",a.classList.add("active")},delete_msg:function(){this.loading=!0,g.emit("delete",this.id)},selectEmoji:function(e){this.message=this.message+e.data},show_emoji_fun:function(){this.show_emoji=!this.show_emoji},sendMessage:function(){var e=document.querySelector(".input-msg");if(""!=this.message){this.loading=!0;var t={message:this.message,room_id:this.$route.params.id,sender:this.$route.params.username||this.username};g.emit("SEND_MESSAGE",t),this.message="",this.show_emoji=!1,e.focus()}},getmessage:function(){}},created:function(){var e=this;this.username=localStorage.getItem("username"),null!=this.username&&""!=this.username||this.$router.push({name:"home",params:{username_empty:!0,room:this.$route.params.username}}),this.loading=!0,window.onkeypress=function(t){13===t.keyCode&&(t.preventDefault(),e.sendMessage())},g.emit("GET_ALL_MESSAGES",{}),g.on("DISPLAY_MESSAGE",(function(t){var s=e.$route.params.id;if(t){var i=t.filter((function(e){return e.id_room==s}));e.messages=i,e.loading=!1,e.alert_msg=!1}t.length<1&&(e.alert_msg=!0)}))}},w=v,C=(s("df13"),Object(l["a"])(w,d,_,!1,null,null,null)),x=C.exports,y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mt-0"},[e.loading_message?s("div",{staticClass:"loading_content"},[e._m(0)]):e._e(),e.alert_msg?s("p",{staticClass:"text-center w-100"},[e._v("Say hi !")]):e._e(),s("br"),s("div",{staticClass:"msg-content"},e._l(e.private_msg,(function(t,i){return s("div",{key:i},[s("div",{staticClass:"px-2 py-0",class:{message_send2:e.username==t.sender}},[s("div",{attrs:{id:"context-menu"},on:{click:function(t){return e.delete_msg()}}},[e._m(1,!0)]),s("div",{class:{message_send2:e.username==t.sender},staticStyle:{width:"max-content","max-width":"70%"}},[s("div",{staticClass:"media-body"},[s("div",{staticClass:"rounded py-2 px-3 mb-1",class:{message_send:e.username==t.sender,message_recieve:e.username!=t.sender},on:{contextmenu:function(s){return e.handler(s,t._id)}}},[s("p",{staticClass:"text-small mb-0",staticStyle:{"overflow-wrap":"anywhere"}},[e._v(" "+e._s(t.message)+" ")])])])])])])})),0),s("div",{staticClass:"col-12 input-fixed"},[s("VEmojiPicker",{directives:[{name:"show",rawName:"v-show",value:e.show_emoji,expression:"show_emoji"}],staticStyle:{position:"absolute",bottom:"85px",right:"25px"},on:{select:e.selectEmoji}}),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"input-msg",attrs:{placeholder:"message...",cols:"40",rows:"2",type:"text"},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}}),e._v(" "),s("div",{staticStyle:{position:"absolute",top:"18px",right:"12px"}},[s("i",{staticClass:"fas fa-smile-beam",staticStyle:{"font-size":"25px","margin-right":"6px",cursor:"pointer"},on:{click:e.show_emoji_fun}}),e.loading?e._e():s("i",{staticClass:"fas fa-paper-plane",staticStyle:{"font-size":"25px",cursor:"pointer"},on:{click:function(t){return e.sendMessage()}}}),e.loading?s("i",{staticClass:"fas fa-spinner loading",staticStyle:{"font-size":"25px"}}):e._e()])],1)])},b=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"spinner-border loading_message",attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[e._v("Loading...")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"item"},[s("i",{staticClass:"fas fa-trash-alt"}),e._v(" Delete")])}];window.addEventListener("click",(function(){var e=document.getElementById("context-menu");e&&e.classList.remove("active")}));var S=h()(""),k={components:{VEmojiPicker:p["a"]},name:"chat",data:function(){return{loading_message:!1,reciever:[],private_msg:[],username:"",message:"",messages:[],id:"",loading:!1,show_emoji:!1,alert_msg:!1,username_id:""}},watch:{},methods:{handler:function(e,t){this.id=t,e.preventDefault();var s=e.clientY,i=e.clientX,a=document.getElementById("context-menu"),n=document.querySelector(".msg-content"),r=0;r=i+110<n.offsetWidth?i:i-110,a.style.top=s+"px",a.style.left=r+"px",a.classList.add("active")},delete_msg:function(){this.loading=!0,S.emit("delete",this.id)},selectEmoji:function(e){this.message=this.message+e.data},show_emoji_fun:function(){this.show_emoji=!this.show_emoji},sendMessage:function(){var e=new Date;if(""!=this.message){var t=this.$route.params.id+localStorage.getItem("username_id"),s={id_room:t,message:{message:this.message,sender:this.username,today:e},users:[this.$route.params.id,localStorage.getItem("username_id")]};S.emit("VERIFY_CONV_EXIST",s),this.loading=!0,this.message="",this.show_emoji=!1}}},created:function(){var e=this;this.loading_message=!0,S.emit("GET_FRIEND",this.$route.params.id),S.on("GET_FRIEND",(function(t){e.reciever=t}));var t=this.$route.params.id+localStorage.getItem("username_id"),s=localStorage.getItem("username_id")+this.$route.params.id;S.on("display_private",(function(t){e.private_msg=t.messages,e.loading=!1})),S.on(t,(function(t){t&&(e.private_msg=t.messages),e.loading_message=!1,e.loading=!1;var s=document.querySelector(".msg-content");s&&s.scrollTo(0,s.scrollHeight)})),S.on(s,(function(t){t&&(e.private_msg=t.messages),e.loading_message=!1,e.loading=!1;var s=document.querySelector(".msg-content");s.scrollTo(0,s.scrollHeight)})),S.emit("GET_PRIVATE",t,s),this.username=localStorage.getItem("username"),this.username_id=localStorage.getItem("username_id"),null!=this.username&&""!=this.username||this.$router.push({name:"home",params:{username_empty:!0,room:this.$route.params.username}}),window.onkeypress=function(t){13===t.keyCode&&(t.preventDefault(),e.sendMessage())}}},E=k,$=(s("065b"),Object(l["a"])(E,y,b,!1,null,null,null)),I=$.exports,O=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-center",staticStyle:{width:"100%",height:"100%"}},[""!=e.username&&null!=e.username||!e.login_show?e._e():s("div",{staticClass:"sign-in"},[s("div",{staticClass:"title"},[e._m(0),s("div",{staticClass:"title-text"},[s("h1",{staticClass:"mt-3"},[e._v("SIGN IN")]),s("p",{on:{click:function(t){e.login_show=!e.login_show}}},[e._v("You have an acount ?")])])]),""!=e.alert_msg?s("p",{staticClass:"alert"},[s("i",{staticClass:"fas fa-exclamation-triangle"}),e._v(" "+e._s(e.alert_msg)+" ")]):e._e(),s("div",{staticClass:"form"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user_sign,expression:"user_sign"}],attrs:{placeholder:"Username",type:"text"},domProps:{value:e.user_sign},on:{input:function(t){t.target.composing||(e.user_sign=t.target.value)}}}),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{placeholder:"Password",type:"text"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password_confirm,expression:"password_confirm"}],attrs:{placeholder:"Confirm Password",type:"text"},domProps:{value:e.password_confirm},on:{input:function(t){t.target.composing||(e.password_confirm=t.target.value)}}}),s("br"),e.loading_input?s("div",{staticClass:"spinner-border text-light",attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[e._v("Loading...")])]):s("button",{staticClass:"btn",on:{click:function(t){return e.sign_in()}}},[s("p",{staticClass:"m-0"},[e._v("SIGN-IN")])]),s("br")])]),""!=e.username&&null!=e.username||e.login_show?e._e():s("div",{staticClass:"login"},[s("div",{staticClass:"title"},[e._m(1),s("div",{staticClass:"title-text"},[s("h1",{staticClass:"mt-3"},[e._v("LOGIN")]),s("p",{on:{click:function(t){e.login_show=!e.login_show}}},[e._v("Create an acount ?")])])]),""!=e.success_msg?s("p",{staticClass:"success"},[s("i",{staticClass:"fas fa-check-circle"}),e._v(" "+e._s(e.success_msg)+" ")]):e._e(),""!=e.alert_msg?s("p",{staticClass:"alert"},[s("i",{staticClass:"fas fa-exclamation-triangle"}),e._v(" "+e._s(e.alert_msg)+" ")]):e._e(),s("div",{staticClass:"form",staticStyle:{"padding-top":"70px"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user,expression:"user"}],attrs:{placeholder:"Username",type:"text"},domProps:{value:e.user},on:{input:function(t){t.target.composing||(e.user=t.target.value)}}}),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{placeholder:"Password",type:"text"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),s("br"),e.loading_input?s("div",{staticClass:"spinner-border text-light",attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[e._v("Loading...")])]):s("button",{staticClass:"btn",on:{click:function(t){return e.Login()}}},[s("p",{staticClass:"m-0"},[e._v("LOGIN")])]),s("br")])]),""!=e.username&&null!=e.username?s("div",{staticClass:"logged my-5",staticStyle:{"padding-bottom":"25px","padding-top":"50px"}},[e.loading_home?s("div",[e._v(" > "),e._l(e.all_posts,(function(t){return s("div",{key:t._id,staticClass:"all_posts"},[s("div",{staticClass:"col-12 col-sm-8 col-md-6 col-lg-5 col-xl-4 p-0 single_poste",staticStyle:{margin:"auto"}},[s("div",{staticClass:"card dark_post"},[s("router-link",{staticClass:"card-header dark_title",staticStyle:{display:"flex","align-items":"center",padding:"8px 15px"},attrs:{tag:"div",to:{name:"profile",params:{id:t.posted_by_id}}}},[s("i",{staticClass:"far fa-user-circle",staticStyle:{"font-size":"30px"}}),s("h4",{staticClass:"m-0",staticStyle:{transform:"translate(10px, 0px)",width:"100%","text-align":"left","font-size":"17px"}},[e._v(" "+e._s(t.posted_by)+" ")]),s("p",{staticClass:"m-0 date",staticStyle:{"font-weight":"bold","font-size":"14px"}},[e._v(" "+e._s(e.gatDate(t.date))+" ")])]),s("div",{directives:[{name:"lazy-container",rawName:"v-lazy-container",value:{selector:"img"},expression:"{ selector: 'img' }"}],staticClass:"dark_img post-img "},[s("img",{staticClass:" ",class:{red_image_home:t.dim[0].height>800},attrs:{"data-src":t.images_url,alt:""}})]),s("div"),s("Likes",{attrs:{show:e.show,all_posts:e.all_posts,post:t}}),s("hr",{staticClass:"m-0"})],1)]),s("br")])})),s("div",{staticClass:"show",staticStyle:{"margin-top":"20px"}},[e.next_pag?s("div",[e.loading_scroll?s("i",{staticClass:"fas fa-chevron-circle-down",on:{click:function(t){return e.Show_More()}}}):s("div",{staticClass:"spinner-border",staticStyle:{color:"#dd6e69"},attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[e._v("Loading...")])])]):s("p",{staticStyle:{color:"#dd6e69","font-weight":"900"}},[e._v("No more posts")])])],2):e._e(),e.loading_home?e._e():s("div",{staticClass:"loading_home"},[e._m(2)])]):e._e()])},N=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"icone"},[s("i",{staticClass:"far fa-user"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"icone"},[s("i",{staticClass:"far fa-user"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"lds-ring",staticStyle:{filter:"invert(1)"}},[s("div"),s("div"),s("div"),s("div")])}],j=(s("c740"),s("4160"),s("159b"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"like_div",staticStyle:{display:"flex"}},[s("div",{staticClass:"likes",class:{liked_div:e.post.likes.includes(e.username_id)},on:{click:function(t){return e.like(e.post._id,e.post.likes)}}},[s("i",{staticClass:"fas fa-thumbs-up"}),s("span",[e._v(e._s(e.post.likes.length))])]),s("div",{staticClass:"comment",class:{commented:e.post.comments.length>0,commented:e.post.comments.length>0},on:{click:function(t){return e.show_comment()}}},[s("i",{staticClass:"fas fa-comment-dots"}),s("span",[e._v(e._s(e.post.comments.length))])]),e._m(0),s("hr")]),s("div",{staticClass:"all_comment",class:{show_comment:1==e.comment_section}},e._l(e.post.comments,(function(t){return s("div",{key:t.id,staticClass:"m-0"},[s("div",{staticClass:"comment-section"},[s("p",{staticClass:"commented_by"},[e._v(e._s(t.comment_by))]),s("p",{staticClass:"comment-text"},[e._v(e._s(t.comment_text))])])])})),0),s("div",{staticClass:"pr-0 card-body py-0"},[s("form",{staticStyle:{display:"flex"}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.comment_text,expression:"comment_text"}],staticClass:"comment-input  ",staticStyle:{color:"white","margin-right":"5px",background:"transparent"},attrs:{placeholder:"comment...",cols:"1"},domProps:{value:e.comment_text},on:{input:function(t){t.target.composing||(e.comment_text=t.target.value)}}}),s("i",{staticClass:"comment-btn fas fa-ellipsis-h ",on:{click:function(t){return e.Comment(e.post._id)}}})])])])}),D=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"share"},[s("i",{staticClass:"fas fa-download"})])}],P=(s("caad"),s("c975"),s("a434"),s("2532"),h()("")),L={data:function(){return{username:"",username_id:"",comment_section:!1,comment_text:""}},props:["post","all_posts"],watch:{show:function(){this.comment_section=!0}},name:"likes",methods:{show_comment:function(){this.comment_section=!this.comment_section},Comment:function(e){if(""!=this.comment_text){var t={post_id:e,comment_text:this.comment_text,comment_by:this.username,comment_by_id:this.username_id};this.comment_text="",P.emit("COMMENT",t),this.comment_section=!0}},like:function(e){this.get(e),P.emit("LIKE",{post_id:e,user_like:this.username_id})},get:function(e){for(var t=0;t<this.all_posts.length;t++)if(this.all_posts[t]._id==e)if(this.all_posts[t].likes.includes(this.username_id)){var s=this.all_posts[t].likes.indexOf(this.username_id);s>-1&&this.all_posts[t].likes.splice(s,1)}else this.all_posts[t].likes.push(this.username_id)}},created:function(){this.username=localStorage.getItem("username"),this.username_id=localStorage.getItem("username_id")}},T=L,M=(s("09f3"),Object(l["a"])(T,j,D,!1,null,"3e2888ea",null)),G=M.exports,R=s("ec26");window.onclick=function(){};var A=h()(""),F={components:{Likes:G},name:"home",props:["username_general"],data:function(){return{show:!1,username_id:"",loading_input:!1,loading_home:!1,login_show:!1,user_sign:"",password:"",password_confirm:"",user:"",username:"",alert_msg:"",success_msg:"",all_users:[],all_posts:[],page_num:0,next_pag:!0,loading_scroll:!0,comment_text:""}},watch:{login_show:function(){this.alert_msg=""},username_general:function(e){this.username=e}},methods:{Show_More:function(){this.loading_scroll=!1,this.page_num++,A.emit("GET_POSTS",this.page_num)},gatDate:function(e){return e},getImgUrl:function(e){return s("fb84")("./"+e)},private_room:function(e,t){var s=Object(R["a"])(),i=localStorage.getItem("username_id"),a=e,n=this.username,r={id_room:s,user1:i,user2:a,username1:n,username2:t};this.$router.push({name:"_chat",params:{id:a,private_room:r}})},room_enter:function(e){this.$router.push({name:"chat",params:{id:e,username:this.username}})},new_room:function(){var e=Object(R["a"])(),t={room_name:"ROOM_1",password:"",user:this.username,room_id:e};A.emit("NEW_ROOM",t)},sign_in:function(){if(this.success_msg="",this.alert_msg="",""==this.user_sign||""==this.password)this.alert_msg="required username and password",this.user_sign="",this.password_confirm="",this.password="";else{if(this.password_confirm!=this.password)return this.alert_msg="Password don't match",this.password_confirm="",void(this.password="");this.loading_input=!0;var e={user:this.user_sign,password:this.password};A.emit("SIGN_IN",e),this.user_sign="",this.password="",this.password_confirm=""}},Login:function(){if(this.success_msg="",this.alert_msg="",""==this.user||""==this.password)this.alert_msg="required username and password",this.user="",this.password="";else{this.loading_input=!0;var e={user:this.user,password:this.password};A.emit("LOGIN",e),this.user="",this.password=""}},scroll:function(){A.emit("GET_POSTS",this.page_num)}},created:function(){var e=this;this.username=localStorage.getItem("username"),this.username_id=localStorage.getItem("username_id"),A.on("COMMENT",(function(t){var s=e.all_posts.findIndex((function(e){return e._id==t.post_id}));e.all_posts[s].comments.push(t),e.show=!0})),A.emit("GET_POSTS",this.page_num),A.on("GET_POSTS",(function(t){e.next_pag=t.next_pag,t.post.forEach((function(t){e.all_posts.push(t)})),e.loading_home=!0,e.loading_scroll=!0})),A.emit("DISPLAY_USERS",(function(){})),A.on("DISPLAY_USERS",(function(t){e.all_users=t})),A.emit("GET_ALL_ROOMS"),A.on("USERNAME_EXIST",(function(){e.alert_msg="username already used",e.loading_input=!1})),A.on("SIGN_IN_DONE",(function(t){e.user=t.username,e.login_show=!1,e.loading_input=!1,e.success_msg="Successful Sign-up !"})),A.on("LOGGED",(function(t){t.username?(e.loading_input=!1,localStorage.setItem("username",t.username),localStorage.setItem("username_id",t._id),e.username=t.username,e.$emit("updateStatus",[e.username,t._id])):(e.loading_input=!1,e.alert_msg=t)})),this.$route.params.username_empty&&(this.alert_msg="you have to enter a username !")},mounted:function(){window.scrollTo(0,0)}},z=F,U=(s("64d5"),Object(l["a"])(z,O,N,!1,null,"66a74f72",null)),Y=U.exports,q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.username?s("div",{staticClass:"rooms",staticStyle:{transform:"translateY(49px)",overflow:"auto"}},[s("ul",{staticStyle:{position:"relative",width:"max-content"}},e._l(e.all_users,(function(t){return s("div",{key:t._id,staticClass:"single_room",on:{click:function(s){return e.private_room(t._id)}}},[e.username!=t.username?s("li",{class:{active_conv:t._id==e.$route.params.id}},[e._v(" "+e._s(t.username)+" ")]):e._e()])})),0)]):e._e(),e.$route.params.id?e._e():s("div",{staticClass:"inbox_home"},[s("i",{staticClass:"fas fa-paper-plane"}),s("br"),s("h1",[e._v("INBOX")])]),e.render?s("router-view"):e._e()],1)},B=[],V=h()(""),H={name:"inbox",props:["username_general"],data:function(){return{render:!0,user:"",username:"",username_id:"",success_msg:"",all_users:[]}},watch:{login_show:function(){this.alert_msg=""},username_general:function(e){this.username=e}},methods:{private_room:function(e){var t=this;this.$router.push({name:"_chat",params:{id:e}}),this.render=!1,this.$nextTick((function(){t.render=!0}))}},created:function(){var e=this;this.username=localStorage.getItem("username"),this.username_id=localStorage.getItem("username_id"),null!=this.username&&""!=this.username||this.$router.push({name:"home",params:{username_empty:!0,room:this.$route.params.username}}),V.emit("DISPLAY_USERS",(function(){})),V.on("DISPLAY_USERS",(function(t){e.all_users=t})),this.$route.params.username_empty&&(this.alert_msg="you have to enter a username !")}},X=H,W=(s("4b37"),Object(l["a"])(X,q,B,!1,null,"c80825b2",null)),J=W.exports,K=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"profile pb-5"},[e.loading_upload?s("div",{staticClass:"loading_upload"},[e._m(0)]):e._e(),s("div",{staticClass:"container px-4",staticStyle:{"padding-top":"140px"}},[s("div",{staticClass:"mx-auto"},[s("div",{staticClass:" overflow-hidden"},[s("img",{staticClass:"photo_de_profil mb-2 img-thumbnail",attrs:{src:"https://images.unsplash.com/photo-1522075469751-3a6694fb2f61?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=80",alt:"...",width:"130"}}),e.user_profile.username?s("div",{staticClass:"text-white dark_div_profile p-4 d-flex justify-content-end text-center",staticStyle:{"lign-items":"center",position:"realtive",padding:"38px 10px !important"}},[e.user_profile!=[]?s("ul",{staticClass:"stat text-white list-inline mb-0"},[s("li",{staticClass:"list-inline-item"},[s("h5",{staticClass:"font-weight-bold mb-0 d-block"},[e._v(" "+e._s(e.user_post.length)+" ")]),e._m(1)]),s("li",{staticClass:"list-inline-item"},[s("h5",{staticClass:"font-weight-bold mb-0 d-block"},[e._v(e._s(e.friends.length))]),e._m(2)]),e.add_button()?s("li",{staticClass:"list-inline-item",on:{click:function(t){return e.Add_friend()}}},[s("h5",{staticClass:"font-weight-bold mb-0 d-block"},[e._v("0")]),e._m(3)]):e.$route.params.id!=e.username_id?s("li",{staticClass:"list-inline-item",staticStyle:{"font-size":"25px",color:"#e57c5b"},on:{click:function(t){return e.DEL_friend()}}},[e._m(4)]):e._e()]):e._e(),s("br"),s("div",{staticStyle:{position:"absolute",left:"50%",transform:"translate(-50%, 35px)"}},[e.user_profile.username?s("h4",{staticClass:"text-white"},[e._v(" "+e._s(e.user_profile.username)+" ")]):e._e()])]):e._e(),e.username_id==e.$route.params.id?s("div",{staticClass:"py-3"},[s("div",{staticClass:"dark_div_profile add_field shadow-sm"},[s("button",{attrs:{id:"new_btn"}},[""!=e.file?s("i",{staticClass:"fas fa-window-close",staticStyle:{"font-size":"22px"},on:{click:function(t){return e.reset_file(t)}}}):e._e(),""==e.file?s("div",[s("p",{staticClass:"m-0"},[e._v("Uploads New Image")]),s("br"),s("i",{staticClass:"fas fa-upload"})]):s("p",{staticClass:"m-0",staticStyle:{"font-weight":"100"}},[e._v(" "+e._s(e.file.name)+" ")])]),s("br"),s("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[s("input",{ref:"file",staticClass:"input_file",staticStyle:{display:"none"},attrs:{type:"file",name:"file",id:"uploadFile"}}),""!=e.file?s("button",{staticClass:"btn btn-upload btn-outline-dark btn-sm btn-block"},[e._v(" UPLOAD ")]):e._e()])])]):e._e()])])]),s("div",{staticClass:"container py-4"},[this.friends.includes(this.username_id)||e.$route.params.id==e.username_id?s("div",{staticClass:"d-flex align-items-center justify-content-between mb-3"},[s("h5",{staticClass:"mb-0",staticStyle:{color:"white"}},[e._v("Recent photos")]),s("a",{staticClass:"btn btn-link text-white",attrs:{href:"#"}},[e._v("Show all")])]):e._e(),!this.friends.includes(this.username_id)&&e.$route.params.id!=e.username_id&&e.user_profile.username?s("div",{staticClass:"private_div",staticStyle:{color:"white"}},[s("img",{attrs:{src:"/images/lock.png",alt:""}}),s("p",[e._v("This Profile Is Private")])]):e._e()]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.img_show,expression:"img_show"}],staticClass:"modal_img",on:{click:function(t){return e.hide_img(t)}}},[s("img",{staticClass:"img-fluid",attrs:{src:this.image,alt:""}})]),this.friends.includes(this.username_id)||e.$route.params.id==e.username_id?s("div",{staticClass:"grid_3 container"},e._l(e.user_post,(function(t){return s("figure",{key:t._id,staticClass:"grid-img"},[s("div",{staticClass:"content-img-profile"},[s("img",{staticClass:"img-profile",class:{red_image:t.dim[0].height>800},attrs:{src:t.images_url},on:{click:function(s){return e.show_img(t.images_url)}}}),s("div",{staticClass:"like_div"},[s("div",{staticClass:"likes",class:{liked_div:t.likes.includes(e.username_id)},on:{click:function(s){return e.like(t._id,t.likes)}}},[s("i",{staticClass:"fas fa-thumbs-up"}),s("span",[e._v(e._s(t.likes.length))])])])])])})),0):e._e()])},Q=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"spinner"},[s("div",{staticClass:"spinner-border text-light",attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[e._v("Loading...")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("small",{staticClass:"text-white"},[s("i",{staticClass:"fas fa-image mr-1"}),e._v("Memes")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("small",{staticClass:"text-white"},[s("i",{staticClass:"fas fa-user mr-1"}),e._v("Friends")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("small",{staticClass:"text-white"},[s("i",{staticClass:"fas fa-user mr-1"}),e._v("Add Friend")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("small",{},[s("i",{staticClass:"fas fa-user mr-1"}),e._v("Friend")])}],Z=s("bc3a"),ee=s.n(Z),te=h()(""),se={name:"profile",components:{},data:function(){return{loading_upload:!1,file:"",username:"",username_id:"",user_post:[],user_profile:[],show_component:!0,img_show:!1,image:"",friends:[]}},watch:{},methods:{DEL_friend:function(){te.emit("DEL_FREIND",{profile_id:this.$route.params.id,new_friend:this.username_id})},Add_friend:function(){te.emit("ADD_FREIND",{profile_id:this.$route.params.id,new_friend:this.username_id})},add_button:function(){if(this.$route.params.id!=this.username_id&&!this.friends.includes(this.username_id))return!0},like:function(e){this.get(e),te.emit("LIKE",{post_id:e,user_like:this.username_id,profile:this.$route.params.id})},hide_img:function(e){"modal_img"==e.target.className&&(this.img_show=!1)},show_img:function(e){this.image=e,this.img_show=!0},submit:function(){var e=this,t=new Date,s=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear(),i=(t.getHours()<10?"0":"")+t.getHours(),a=(t.getMinutes()<10?"0":"")+t.getMinutes(),n=i+":"+a;this.file=this.$refs.file.files[0];var r=new FormData;r.append("file",this.file),r.append("user",this.username_id),r.append("username",this.username),r.append("date",s),r.append("time",n),ee.a.post("/image",r).then((function(t){console.log(t.status),200===t.status&&(e.loading_upload=!1,e.$router.push({name:"home"}))})),this.loading_upload=!0,document.getElementById("uploadFile").value=""},get:function(e){for(var t=0;t<this.user_post.length;t++)if(this.user_post[t]._id==e)if(this.user_post[t].likes.includes(this.username_id)){var s=this.user_post[t].likes.indexOf(this.username_id);s>-1&&this.user_post[t].likes.splice(s,1)}else this.user_post[t].likes.push(this.username_id)}},mounted:function(){var e=this,t=document.querySelector("#new_btn"),s=document.querySelector(".input_file");t&&s&&(t.onclick=function(t){t.preventDefault(),console.log(t.target.className),"fas fa-window-close"==t.target.className?e.file="":s.click(),s.onchange=function(){e.file=e.$refs.file.files[0],console.log(e.file)}})},created:function(){var e=this;this.username=localStorage.getItem("username"),this.username_id=localStorage.getItem("username_id"),null!=this.username&&""!=this.username||this.$router.push({name:"home",params:{username_empty:!0,room:this.$route.params.username}}),te.emit("GET_POSTS_BY_USER",this.$route.params.id),te.on("GET_POSTS_BY_USER",(function(t){e.user_post=t})),te.emit("GET_FRIEND",this.$route.params.id),te.on("GET_FRIEND",(function(t){e.user_profile=t,e.friends=t.friends})),te.on("GET_FRIEND_FALSE",(function(){e.$router.push({name:"home"})}))}},ie=se,ae=(s("5ac4"),Object(l["a"])(ie,K,Q,!1,null,"1886081e",null)),ne=ae.exports;i["a"].use(u["a"]);var re=[{path:"/",name:"home",component:Y},{path:"/inbox",name:"inbox",component:J,children:[{path:"/inbox/_chat/:id",name:"_chat",component:I}]},{path:"/chat/:id",name:"chat",component:x},{path:"/profile/:id",name:"profile",component:ne},{path:"/_chat/:id",name:"_chat",component:I}],oe=new u["a"]({mode:"history",base:"/",routes:re}),le=oe,ce=s("caf9");i["a"].use(ce["a"]),i["a"].use(ce["a"],{preLoad:1.3,error:"dist/error.png",loading:"dist/loading.gif",attempt:1}),i["a"].config.productionTip=!1,new i["a"]({router:le,render:function(e){return e(m)}}).$mount("#app")},"5ac4":function(e,t,s){"use strict";s("724b")},"64d5":function(e,t,s){"use strict";s("af5f")},"724b":function(e,t,s){},8109:function(e,t,s){},"85ec":function(e,t,s){},af5f:function(e,t,s){},df13:function(e,t,s){"use strict";s("2289")},f595:function(e,t,s){},fb84:function(e,t){function s(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}s.keys=function(){return[]},s.resolve=s,e.exports=s,s.id="fb84"}});
//# sourceMappingURL=app.b9107c5a.js.map